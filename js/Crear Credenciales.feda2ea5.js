"use strict";(self["webpackChunksolana_i_am_entity"]=self["webpackChunksolana_i_am_entity"]||[]).push([[992],{15479:(e,a,l)=>{l.r(a),l.d(a,{default:()=>D});var r=l(66252),s=l(3577);const n=(0,r._)("div",{class:"text-3xl font-bold text-gray-900 tracking-wide"},"Crear nueva credencial",-1),i=(0,r._)("hr",{class:"mt-3 dark:border-primary-400 border-t-2 rounded mb-8"},null,-1),t={class:"flex flex-row items-start"},o=["src"],d={key:1,class:"hidden md:w-1/3 w-1/2 aspect-square rounded bg-primary-50 mr-4 border-primary-100 border-2 text-sm p-2 text-center md:flex md:flex-col place-content-center"},c={class:"flex flex-col grow gap-y-4"},m={class:"flex flex-wrap gap-x-4 gap-y-6 items-center justify-center w-full"},p=["src"],u={key:1,class:"md:hidden h-36 w-36 rounded bg-primary-50 border-primary-100 border-2 text-sm justify-center items-center p-2 text-center flex flex-col place-content-center"},g={key:0,class:"w-full flex flex-wrap"},f={class:"flex flex-row flex-wrap"},b={class:"sm:w-1/2 w-full p-1"},v=(0,r.Uk)(" Atras "),w={class:"sm:w-1/2 w-full p-1"};function y(e,a,l,y,x,h){const k=(0,r.up)("v-file-input"),L=(0,r.up)("v-input"),C=(0,r.up)("v-text-area"),_=(0,r.up)("v-checkbox"),q=(0,r.up)("v-select"),O=(0,r.up)("v-v-select"),D=(0,r.up)("v-cancel-button"),W=(0,r.up)("v-primary-button");return(0,r.wg)(),(0,r.iD)("div",null,[n,i,(0,r._)("div",t,[y.nftLogoPreview?((0,r.wg)(),(0,r.iD)("img",{key:0,class:"hidden md:block md:w-1/3 w-1/2 aspect-square bg-cover bg-primary-50 border-primary-100 border-2 mr-4 rounded",src:y.nftLogoPreview},null,8,o)):((0,r.wg)(),(0,r.iD)("div",d," Preview de la imágen seleccionada ")),(0,r._)("div",c,[(0,r._)("div",m,[y.nftLogoPreview?((0,r.wg)(),(0,r.iD)("img",{key:0,class:"md:hidden h-36 w-36 bg-cover bg-primary-50 border-primary-100 border-2 rounded",src:y.nftLogoPreview},null,8,p)):((0,r.wg)(),(0,r.iD)("div",u," Escoje una imágen ")),(0,r.Wm)(k,{previewsImage:!1,class:"sm:w-full grow",accept:"image/png, image/jpeg, image/jpg",name:"nftLogo",label:"Imágen de la credencial",rules:"required|mimes:image/jpeg,image/jpg,image/png|size:2048"})]),(0,r.Wm)(L,{name:"nftName",label:"Nombre de la credencial",placeholder:"Ingresa el nombre de la credencial",rules:"required|min:2|max:20"}),(0,r.Wm)(L,{name:"nftSymbol",label:"Símbolo de la credencial",placeholder:"Ingresa el nombre de la credencial",rules:"required|min:2|max:10"}),(0,r.Wm)(C,{rows:8,name:"nftDescription",label:"Descripción de la credencial",placeholder:"Ingresa la descripción de la credencial",rules:"required|min:8|max:56"}),(0,r.Wm)(_,{name:"expires",label:"Expira la credencial?"}),y.values.expires?((0,r.wg)(),(0,r.iD)("div",g,[(0,r.Wm)(q,{wrapperClass:"w-full md:w-1/3 px-0 md:pr-2",name:"days",label:"Días en los que expira",placeholder:"Seleccione la cantidad de días",options:y.timeOptions.days,getOptionLabel:e=>`${e} días`,rules:"required"},null,8,["options","getOptionLabel"]),(0,r.Wm)(q,{wrapperClass:"w-full md:w-1/3 px-0 md:px-2",name:"months",label:"Meses en los que expira",placeholder:"Seleccione la cantidad de meses",options:y.timeOptions.months,getOptionLabel:e=>`${e} meses`,rules:"required"},null,8,["options","getOptionLabel"]),(0,r.Wm)(q,{wrapperClass:"w-full md:w-1/3 px-0 md:pl-2",name:"years",label:"Años en los que expira",placeholder:"Seleccione la cantidad de años",options:y.timeOptions.years,getOptionLabel:e=>`${e} años`,rules:"required"},null,8,["options","getOptionLabel"])])):(0,r.kq)("",!0),(0,r.Wm)(O,{label:"Requisitos",placeholder:"Selecciona las credenciales",options:y.nfts,multiple:"",getOptionLabel:e=>e.name,reduce:e=>e.address.toBase58(),loading:y.isLoadingNfts&&0==y.nfts.length,name:"nftsToAdd"},null,8,["options","getOptionLabel","reduce","loading"]),(0,r._)("div",f,[(0,r._)("div",b,[(0,r.Wm)(D,{disabled:y.isCreating,onClick:a[0]||(a[0]=a=>e.$router.push("/credentials")),class:"h-10 w-full rounded-md"},{default:(0,r.w5)((()=>[v])),_:1},8,["disabled"])]),(0,r._)("div",w,[(0,r.Wm)(W,{onClick:y.createNft,disabled:!y.isValid||y.isCreating,class:"h-10 w-full rounded-md",color:"bg-green-400 hover:bg-green-500 focus:ring-green-800 active:bg-green-700"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,s.zw)(y.isCreating?"Cargando":"Confirmar"),1)])),_:1},8,["onClick","disabled"])])])])])])}var x=l(2262),h=l(80415),k=l(12954),L=(l(9669),l(44175),l(33907)),C=l(22201);const _={components:{VInput:h.Z},setup(){const e={days:[...Array(32).keys()],months:[...Array(13).keys()],years:[...Array(11).keys()]},a=(0,L.oR)(),l=(0,C.tv)(),s=(0,x.iH)(!1),n=(0,x.iH)(!1),{values:i,meta:t}=(0,k.cI)(),o=(0,r.Fl)((()=>!i.expires||[i.days,i.months,i.years].some((e=>e>0)))),d=(0,r.Fl)((()=>i.expires?{years:i.years,months:i.months,days:i.days}:null)),c=(0,r.Fl)((()=>t.value.valid&&o.value)),m=(0,r.Fl)((()=>i.nftLogo)),p=(0,r.Fl)((()=>i.nftName)),u=(0,r.Fl)((()=>i.nftDescription)),g=(0,r.Fl)((()=>a.getters.nftsModels)),f=(0,r.Fl)((()=>{try{return URL.createObjectURL(m.value)}catch(e){return null}}));async function b(){n.value=!0;let e={title:p.value,description:u.value,image:m.value,requisites:i.nftsToAdd??[],model:"credential",symbol:i.nftSymbol};d.value&&(e.expiration={...d.value});const r=await a.dispatch("createNft",e);n.value=!1,r&&l.back()}async function v(){g.value.length||(s.value=!0,await a.dispatch("getNftFromCreator",!0),s.value=!1)}return(0,r.bv)((()=>{v()})),{timeOptions:e,isValid:c,nftLogo:m,nftLogoPreview:f,nftName:p,nftDescription:u,createNft:b,isCreating:n,nfts:g,isLoadingNfts:s,values:i}}};var q=l(83744);const O=(0,q.Z)(_,[["render",y]]),D=O}}]);
//# sourceMappingURL=Crear Credenciales.feda2ea5.js.map